(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{"9e49":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-header",{staticClass:"bg-white text-black",attrs:{bordered:""}},[a("q-toolbar",[a("q-toolbar-title",[a("q-btn",{attrs:{icon:"eva-arrow-back","no-caps":"",flat:"",round:"",dense:"",label:"Notifikasi"},on:{click:function(e){t.closeNotif()?t.$router.go(-1):t.$router.push("/")}}})],1),a("q-btn",{attrs:{icon:"eva-more-vertical",flat:"",round:"",dense:""}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.updateReadAll}},[a("q-item-section",[t._v("Tandai dibaca semua")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",[t._v("Hapus Semua")])],1)],1)],1)],1)],1)],1),t._l(t.notifications,(function(e,i){return a("div",{key:"index"+i},[a("q-list",{attrs:{bordered:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-md",attrs:{clickable:"",active:0==e.readed,"active-class":"alert-primary text-black"},on:{click:function(a){t.redirectLink(t.getLink(e.link),e.id)}}},[a("q-item-section",{attrs:{avatar:""}},[e.topik.type?a("div",["lelang_almost"===e.topik.type?a("q-avatar",[a("img",{staticStyle:{width:"50px"},attrs:{src:t.urlPath+t.getAvatar(e.topik.type,e.topik.id)}})]):"transaction"===e.topik.type?a("q-avatar",{attrs:{color:"teal","text-color":"white",icon:"eva-grid"}}):t._e()],1):t._e()]),a("q-item-section",[a("q-item-label",[t._v(t._s(e.title))]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v(t._s(e.message))])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("ago")(e.created_at))+" lalu")])],1)],1)],1)],1)})),a("q-page-sticky",{staticClass:"depan",attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"keyboard_arrow_up",size:"sm",color:"primary"},on:{click:function(e){return t.scrollTop()}}})],1)],2)},r=[],o=a("ded3"),n=a.n(o),s=(a("5319"),a("2f62")),l=a("b166"),c=a("1ccd"),d=a("4d7a"),p=a("758b"),u={name:"PageNotifications",data(){return{myImage:null,showMenu:!1}},mounted(){this.getNotificationByCurrentId()},filters:{ago(t){const e=parseInt(Object(l["a"])(new Date(t),"T"));return Object(c["a"])(e,{locale:d["a"]})},formatTanggal(t){return Object(l["a"])(new Date(t),"dd LLLL yyyy")},formatRp(t){return"Rp."+Number(t).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")},human(t){var e=t.split("_"),a=e[0],i=e[1],r=a+" "+i;return r}},computed:n()(n()({},Object(s["d"])("notifications",["notifications"])),{},{urlPath(){return p["e"]()}}),methods:n()(n()({},Object(s["b"])("notifications",["getNotificationByCurrentId","markAsRead","markAsReadAll"])),{},{getLink(t){const e=t.split("/");return e.length>1?{name:e[0],params:{slug:parseInt(e[1])}}:{name:e[0]}},redirectLink(t,e){let a={id:e};this.markAsRead(a).then((e=>{console.log(t),this.$router.replace(this.$route.query.redirect||t,(()=>{})),this.$store.dispatch("notifications/getNotificationByCurrentId")}))},active(){return!0},closeNotif(){return window.history.length>2},updateReadAll(){this.markAsReadAll().then((()=>{this.$store.dispatch("notifications/getNotificationByCurrentId")})).catch((t=>{console.log(t)}))},getAvatar(t,e){if("lelang_almost"===t){var a=null;return p["c"]().get(`/lelang/data_by/${e}`).then((t=>{let e=t.data,i=[];e.media_lelang.map(((t,a)=>{i.push({media:e.media_lelang[a].image,status:e.media_lelang[a].status,video:!1})})),e.video_lelang.map(((t,a)=>{i.push({media:e.video_lelang[a].video,status:e.video_lelang[a].status,video:!0})}));let r=i.filter((t=>{t.status}));a=void 0===!r?r[0].media:i[0].media,this.myImage=a})),this.myImage}return"transaksi"},scrollTop(){window.scrollTo(0,0)}})},m=u,g=a("2877"),b=a("9989"),v=a("e359"),f=a("65c6"),h=a("6ac5"),k=a("9c40"),q=a("4e73"),_=a("1c1c"),y=a("66e5"),w=a("4074"),Q=a("eb85"),I=a("cb32"),N=a("0170"),A=a("de5e"),L=a("7f67"),$=a("714f"),R=a("eebe"),T=a.n(R),x=Object(g["a"])(m,i,r,!1,null,"1be9184a",null);e["default"]=x.exports;T()(x,"components",{QPage:b["a"],QHeader:v["a"],QToolbar:f["a"],QToolbarTitle:h["a"],QBtn:k["a"],QMenu:q["a"],QList:_["a"],QItem:y["a"],QItemSection:w["a"],QSeparator:Q["a"],QAvatar:I["a"],QItemLabel:N["a"],QPageSticky:A["a"]}),T()(x,"directives",{ClosePopup:L["a"],Ripple:$["a"]})}}]);