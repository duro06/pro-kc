(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"1dcc":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("form",{staticClass:"q-gutter-md",on:{submit:function(a){return a.preventDefault(),a.stopPropagation(),t.onSubmit(a)}}},[e("div",{staticClass:"q-pa-md"},[e("q-input",{ref:"judul",attrs:{dense:"",filled:"",label:"Judul *","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Harap diisi"}]},model:{value:t.form.judul,callback:function(a){t.$set(t.form,"judul",a)},expression:"form.judul"}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-mr-xs"},[e("q-select",{ref:"kategori",attrs:{dense:"","options-dense":"",filled:"",label:"Cari Kategori",options:t.options,rules:[function(t){return!!t||"Harap diisi"}],"lazy-rules":""},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n                  No results\n                ")])],1)]},proxy:!0}]),model:{value:t.form.kategori,callback:function(a){t.$set(t.form,"kategori",a)},expression:"form.kategori"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{dense:"",filled:"",rules:[function(t){return t&&t.length>0||"Harap diisi"}],"lazy-rules":""},on:{click:t.showDate},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{mask:"YYYY/MM/DD HH:mm"},on:{input:t.closeDate},model:{value:t.form.berakhir,callback:function(a){t.$set(t.form,"berakhir",a)},expression:"form.berakhir"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{attrs:{label:"Close",color:"primary",flat:""},on:{click:t.closeDate}})],1)])],1)]},proxy:!0},{key:"append",fn:function(){return[e("q-popup-proxy",{ref:"qTimeProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-time",{attrs:{mask:"YYYY/MM/DD HH:mm",format24h:""},model:{value:t.form.berakhir,callback:function(a){t.$set(t.form,"berakhir",a)},expression:"form.berakhir"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)]},proxy:!0}]),model:{value:t.form.berakhir,callback:function(a){t.$set(t.form,"berakhir",a)},expression:"form.berakhir"}})],1)]),e("div",{staticClass:"row q-my-md"},[e("div",{staticClass:"col q-mr-xs"},[e("currency-input",{attrs:{label:"harga pembuka"},model:{value:t.form.harga_pembuka,callback:function(a){t.$set(t.form,"harga_pembuka",a)},expression:"form.harga_pembuka"}})],1),e("div",{staticClass:"col"},[e("currency-input",{attrs:{label:"Kelipatan"},model:{value:t.form.kelipatan,callback:function(a){t.$set(t.form,"kelipatan",a)},expression:"form.kelipatan"}})],1)]),e("div",{staticClass:"q-my-xs"},[e("div",{staticClass:"text-grey text-center q-mb-xs"},[t._v("Lokasi *")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-mr-xs"},[e("q-select",{attrs:{dense:"","options-dense":"",filled:"",label:"Provinsi",options:t.provinsiOpt,behavior:"dialog","option-value":"id","option-label":"nama"},on:{change:t.getKota},model:{value:t.form.provinsi,callback:function(a){t.$set(t.form,"provinsi",a)},expression:"form.provinsi"}})],1),e("div",{staticClass:"col"},[e("q-select",{attrs:{dense:"","options-dense":"",filled:"",label:"Kota/ Kabupaten",options:t.kotaOpt,behavior:"dialog","option-value":"id","option-label":"nama"},model:{value:t.form.kota,callback:function(a){t.$set(t.form,"kota",a)},expression:"form.kota"}})],1)])]),e("div",{staticClass:"q-my-xs"},[e("div",{staticClass:"text-grey text-center q-mb-xs"},[t._v("Deskripsi")]),e("q-editor",{attrs:{"min-height":"5rem","content-class":"bg-grey-3"},model:{value:t.form.deskripsi,callback:function(a){t.$set(t.form,"deskripsi",a)},expression:"form.deskripsi"}})],1)],1),e("q-footer",{staticClass:"bg-white",attrs:{bordered:""}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col q-pa-md"},[e("q-btn",{staticClass:"full-width",attrs:{"no-caps":"",icon:"eva-arrow-ios-back",color:"white","text-color":"black",label:"Kembali"},on:{click:t.backTo}})],1),e("div",{staticClass:"col q-pa-md"},[e("q-btn",{staticClass:"full-width",attrs:{"no-caps":"","icon-right":"eva-arrow-ios-forward",color:"primary","text-color":"white",label:"Lanjut"},on:{click:t.lanjut}})],1)])])],1),e("q-dialog",{ref:"dialogAlert",attrs:{persistent:""},model:{value:t.confirm,callback:function(a){t.confirm=a},expression:"confirm"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-avatar",{attrs:{icon:"eva-save",color:"primary","text-color":"white"}}),e("span",{staticClass:"q-ml-sm"},[t._v("Simpan Draft ini? untuk di edit di lain waktu?.")])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{"no-caps":"",flat:"",label:"Tidak",color:"primary"},on:{click:t.hapusDraft}}),e("q-btn",{attrs:{"no-caps":"",flat:"",label:"Simpan",color:"primary"},on:{click:t.simpanDraft}})],1)],1)],1)],1)},r=[],s=e("ded3"),o=e.n(s),l=(e("5319"),e("758b")),n=e("bc3a"),c=e.n(n),u=e("2f62"),p=e("d413"),d=e("bd4c"),m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-input",{attrs:{dense:"",filled:"",label:t.label,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"Harap diisi"}],"input-class":"text-right"},on:{blur:function(a){t.isInputActive=!1},focus:function(a){t.isInputActive=!0}},model:{value:t.displayValue,callback:function(a){t.displayValue=a},expression:"displayValue"}})],1)},f=[],h={props:{value:{default:0},label:{type:String,default:"Nominal Rp"}},data:function(){return{isInputActive:!1}},computed:{displayValue:{get:function(){return this.isInputActive?this.value.toString():"Rp "+Number(this.value).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")},set:function(t){let a=parseFloat(t.replace(/[^\d\.]/g,""));isNaN(a)&&(a=0),this.$emit("input",a)}}}},g=h,b=e("2877"),k=e("27f9"),v=e("eebe"),y=e.n(v),q=Object(b["a"])(g,m,f,!1,null,"0491169d",null),x=q.exports;y()(q,"components",{QInput:k["a"]});var $=e("f7f1"),C={name:"AddLelang",directives:{currency:p["a"]},components:{CurrencyInput:x},data(){return{id_lelang:null,form:{judul:null,kategori:null,berakhir:null,harga_pembuka:0,kelipatan:0,deskripsi:"<p>Size : </p><p> Sex : </p><p> Harga Belum Termasuk Ongkir dan Packing</p>",provinsi:null,kota:null},options:[],provinsiOpt:[],kotaOpt:[],confirm:!1,provId:null}},created(){this.getKategori(),this.getHariIni(),this.getProvinsi(),this.form.provinsi=this.user.provinsi,this.form.kota=this.user.kota},mounted(){this.getLelangBy(this.$route.params.slug)},computed:o()(o()({},Object(u["d"])("users",["user"])),{},{money(){return{locale:void 0,currency:"IDR"}}}),methods:{getLelangBy(t){l["c"]().get(`/lelang/by/${t}`).then((t=>{console.log(t.data),this.form.judul=t.data.judul,this.form.kategori=t.data.kategori,null==t.data.berakhir?this.getHariIni():this.form.berakhir=d["b"].formatDate(t.data.berakhir,"YYYY/MM/DD HH:mm"),this.form.harga_pembuka=t.data.harga_pembuka,this.form.kelipatan=t.data.kelipatan}))},getHariIni(){let t=Object($["a"])(new Date,4);this.form.berakhir=d["b"].formatDate(t,"YYYY/MM/DD HH:mm")},getKategori(){l["c"]().get("/kategori").then((t=>{let a=[];t.data.data.map((function(e,i){a.push(t.data.data[i].name)})),this.options=a}))},onSubmit(){return null!=this.form.harga_pembuka&&this.form.harga_pembuka,console.log(this.form.harga_pembuka),this.$refs.judul.validate(),this.$refs.kategori.validate(),this.$refs.judul.hasError||this.$refs.kategori.hasError?(this.formHasError=!0,!1):(this.getLelangBy(this.$route.params.slug),l["c"]().put(`/lelang/update/${this.$route.params.slug}`,this.form).then((t=>{console.log(t)})),!0)},simpanDraft(){0==this.onSubmit()?(this.$refs.dialogAlert.hide(),console.log("false")):(this.$refs.dialogAlert.hide(),this.$router.replace(this.$route.query.redirect||{path:"/profile/lelang"},(()=>{})))},hapusDraft(){this.$q.loading.show(),l["c"]().get(`/lelang/hapus_by/${this.$route.params.slug}`).then((t=>{this.$q.loading.hide(),"true"==t.data.success?this.$router.replace(this.$route.query.redirect||{path:"/profile/lelang"},(()=>{})):console.log("error")}))},lanjut(){0==this.onSubmit()?console.log("false"):this.$router.replace(this.$route.query.redirect||{name:"foto.lelang",params:{slug:this.$route.params.slug}},(()=>{}))},backTo(){this.confirm=!0},showDate(){this.$refs.qDateProxy.show()},closeDate(){this.$refs.qDateProxy.hide(),this.$refs.qTimeProxy.show()},getProvinsi(){c.a.get("https://dev.farizdotid.com/api/daerahindonesia/provinsi").then((t=>{this.provinsiOpt=t.data.provinsi}))},getKota(t){console.log("klik");let a=t.id?t.id:null;null!=a&&c.a.get("https://dev.farizdotid.com/api/daerahindonesia/kota?id_provinsi="+a).then((t=>{this.kotaOpt=t.data.kota_kabupaten}))},saveDraft(){l["c"]().post("/lelang/add")}},watch:{"form.provinsi"(){this.getKota(this.form.provinsi)}}},w=C,D=(e("86f4"),e("9989")),_=e("ddd8"),j=e("66e5"),H=e("4074"),Q=e("7cbe"),Y=e("52ee"),S=e("9c40"),I=e("ca78"),P=e("d66b"),O=e("7ff0"),A=e("24e8"),K=e("f09f"),M=e("a370"),z=e("cb32"),T=e("4b7e"),E=e("7f67"),L=Object(b["a"])(w,i,r,!1,null,"dc1c82ea",null);a["default"]=L.exports;y()(L,"components",{QPage:D["a"],QInput:k["a"],QSelect:_["a"],QItem:j["a"],QItemSection:H["a"],QPopupProxy:Q["a"],QDate:Y["a"],QBtn:S["a"],QTime:I["a"],QEditor:P["a"],QFooter:O["a"],QDialog:A["a"],QCard:K["a"],QCardSection:M["a"],QAvatar:z["a"],QCardActions:T["a"]}),y()(L,"directives",{ClosePopup:E["a"]})},"86f4":function(t,a,e){"use strict";e("e28b")},e28b:function(t,a,e){}}]);