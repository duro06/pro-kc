(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"4d6e":function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-page",[e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"total"},[e("div",{staticClass:" f-12 text-grey-5"},[a._v("Total Saldo")]),e("div",{staticClass:" q-mb-sm f-14 text-bold"},[a._v("Rp "+a._s(a._f("formatRp")(a.total_deposit)))])]),e("q-separator"),e("div",{staticClass:"input q-pt-md"},[e("form",{staticClass:"q-gutter-xs",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),a.onSubmit(t)},reset:function(t){return t.preventDefault(),t.stopPropagation(),a.onReset(t)}}},[e("q-input",{ref:"rekening",attrs:{dense:"",filled:"",label:"Rekening Tujuan","lazy-rules":"",rules:[function(a){return a&&a.length>0||"Harap diisi"}]},model:{value:a.rekening,callback:function(t){a.rekening=t},expression:"rekening"}}),e("q-input",{ref:"atas_nama",attrs:{dense:"",filled:"",label:"Atas Nama","lazy-rules":"",rules:[function(a){return a&&a.length>0||"Harap diisi"}]},model:{value:a.atas_nama,callback:function(t){a.atas_nama=t},expression:"atas_nama"}}),e("q-input",{ref:"nama_bank",attrs:{dense:"",filled:"",placeholder:"contoh: Bank Rakyat Indonesia (BRI)",label:"Bank Tujuan","lazy-rules":"",rules:[function(a){return a&&a.length>0||"Harap diisi"}]},model:{value:a.nama_bank,callback:function(t){a.nama_bank=t},expression:"nama_bank"}}),e("q-field",{staticStyle:{"margin-bottom":"20px"},attrs:{filled:"",dense:"",label:"Nominal Rp."},scopedSlots:a._u([{key:"control",fn:function(t){var n=t.id,i=t.floatingLabel,s=t.value,l=t.emitValue;return[e("input",{directives:[{name:"money",rawName:"v-money",value:a.moneyFormatForComponent,expression:"moneyFormatForComponent"},{name:"show",rawName:"v-show",value:i,expression:"floatingLabel"}],ref:"nominal",staticClass:"q-field__input text-right",attrs:{id:n},domProps:{value:s},on:{change:function(a){return l(a.target.value)},focus:function(a){return a.target.select()}}})]}}]),model:{value:a.nominal,callback:function(t){a.nominal=t},expression:"nominal"}}),e("q-separator"),e("q-card",{staticClass:"alert-primary",staticStyle:{"margin-top":"0px"},attrs:{flat:"",square:""}},[e("q-card-section",[e("div",{staticClass:"text-primary f-10"},[e("b",[a._v("Catatan :")]),e("ul",[e("li",[a._v("Pengambilan dengan Nominal kurang dari "),e("b",[a._v("Rp 200.000")]),a._v(" akan dikenakan Biaya Administrasi Sebesar "),e("b",[a._v("Rp 5.000")]),a._v(" Rupiah ")]),e("li",[a._v("Permohonan Pencairan Saldo di atas jam 17:00, akan di cairkan esok harinya pada saat jam kerja 08:00 - 17:00")])])])])],1),e("q-separator"),e("div",{staticStyle:{"margin-top":"0px"},attrs:{flat:"",square:""}},[e("div",{staticClass:"q-pa-sm"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[a._v("Saldo")]),e("div",{staticClass:"col text-right text-bold f-14"},[a._v(a._s(a._f("formatRp")(a.total_deposit)))])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[a._v("Penarikan")]),e("div",{staticClass:"col text-right text-bold f-14"},[a._v(a._s("NaN"==a.nominal?0:a.nominal))])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[a._v("Biaya Administrasi")]),e("div",{staticClass:"col text-right text-bold f-14"},[a._v(a._s(a._f("formatRp")(a.biaya)))])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[a._v("Total Penarikan")]),e("div",{staticClass:"col text-right text-bold f-14"},[a._v(a._s(a._f("formatRp")(a.total)))])])])]),e("q-separator"),e("div",{staticClass:"q-py-lg"},[e("q-btn",{staticClass:"full-width",attrs:{label:"Cairkan",type:"submit",color:"dark"}})],1)],1)])],1)])},i=[],s=e("ded3"),l=e.n(s),o=(e("5319"),e("2f62")),r=e("716b"),d={name:"CairkanDeposit",components:{Money:r["Money"]},data(){return{total_saldo:0,rekening:null,atas_nama:null,nama_bank:null,nominal:0,biaya:0,total:0,batasan:2e5,moneyFormatForComponent:{decimal:".",thousands:",",prefix:"",suffix:" ",precision:0,masked:!0}}},created(){this.getTotalAll()},filters:{formatRp(a){return""+Number(a).toFixed(0).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")}},computed:l()({},Object(o["c"])("transaksi",["total_deposit"])),methods:l()(l()({},Object(o["b"])("transaksi",["getTotalAll","postPenarikan"])),{},{total_penarikan(){let a=parseFloat(this.nominal.replace(/[^\d\.]/g,""));0==a?(this.biaya=0,this.total=0):a<this.batasan&&0!=a?(this.biaya=5e3,this.total=a-this.biaya):(this.biaya=0,this.total=a-this.biaya)},onSubmit(){this.$refs.rekening.validate(),this.$refs.atas_nama.validate(),this.$refs.nama_bank.validate();let a=parseFloat(this.nominal.replace(/[^\d\.]/g,""));if(a>this.total_deposit)return this.$q.notify({message:"Maaf, Saldomu tidak mencukupi"}),!1;if(this.$refs.rekening.hasError||this.$refs.atas_nama.hasError||this.$refs.nama_bank.hasError)this.formHasError=!0,this.$q.notify({icon:"done",message:"Harap Lengkapi dulu Datanya"});else{let a={biaya:this.biaya,nominal:this.total,rekening:this.rekening,atas_nama:this.atas_nama,nama_bank:this.nama_bank};this.postPenarikan(a).then((()=>{this.rekening=null,this.atas_nama=null,this.nama_bank=null,this.nominal=0,this.biaya=0,this.total=0,console.log(a),this.$q.notify({icon:"done",message:"Submitted"}),this.getTotalAll()})).catch((a=>{console.log(a)}))}}}),watch:{nominal(a){parseFloat(a.replace(/[^\d\.]/g,""));this.total_penarikan()}}},c=d,m=e("2877"),u=e("9989"),p=e("eb85"),f=e("27f9"),h=e("8572"),b=e("f09f"),v=e("a370"),_=e("9c40"),k=e("de5e"),g=e("54e1"),y=e("eebe"),C=e.n(y),x=Object(m["a"])(c,n,i,!1,null,"96899700",null);t["default"]=x.exports;C()(x,"components",{QPage:u["a"],QSeparator:p["a"],QInput:f["a"],QField:h["a"],QCard:b["a"],QCardSection:v["a"],QBtn:_["a"],QPageSticky:k["a"],QBanner:g["a"]})}}]);