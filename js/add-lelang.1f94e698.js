(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"052a":function(e,t,a){"use strict";a("1022")},1022:function(e,t,a){},"1dcc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("form",{staticClass:"q-gutter-md",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit(t)}}},[a("div",{staticClass:"q-pa-md"},[a("q-input",{ref:"judul",attrs:{dense:"",filled:"",label:"Judul *","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Harap diisi"}]},model:{value:e.form.judul,callback:function(t){e.$set(e.form,"judul",t)},expression:"form.judul"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mr-xs"},[a("q-select",{ref:"kategori",attrs:{dense:"","options-dense":"",filled:"",label:"Cari Kategori",options:e.options,rules:[function(e){return!!e||"Harap diisi"}],"lazy-rules":""},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                  No results\n                ")])],1)]},proxy:!0}]),model:{value:e.form.kategori,callback:function(t){e.$set(e.form,"kategori",t)},expression:"form.kategori"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{dense:"",filled:"",rules:[function(e){return e&&e.length>0||"Harap diisi"}],"lazy-rules":""},on:{click:e.showDate},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY/MM/DD HH:mm"},on:{input:e.closeDate},model:{value:e.form.berakhir,callback:function(t){e.$set(e.form,"berakhir",t)},expression:"form.berakhir"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{attrs:{label:"Close",color:"primary",flat:""},on:{click:e.closeDate}})],1)])],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-popup-proxy",{ref:"qTimeProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY/MM/DD HH:mm",format24h:""},model:{value:e.form.berakhir,callback:function(t){e.$set(e.form,"berakhir",t)},expression:"form.berakhir"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)]},proxy:!0}]),model:{value:e.form.berakhir,callback:function(t){e.$set(e.form,"berakhir",t)},expression:"form.berakhir"}})],1)]),a("div",{staticClass:"row q-my-md"},[a("div",{staticClass:"col q-mr-xs"},[a("q-field",{attrs:{filled:"",dense:"",label:"Harga Pembuka"},scopedSlots:e._u([{key:"control",fn:function(t){var i=t.id,o=t.floatingLabel,r=t.value,s=t.emitValue;return[a("input",{directives:[{name:"money",rawName:"v-money",value:e.moneyFormatForComponent,expression:"moneyFormatForComponent"},{name:"show",rawName:"v-show",value:o,expression:"floatingLabel"}],ref:"nominal",staticClass:"q-field__input text-right",attrs:{id:i},domProps:{value:r},on:{change:function(e){return s(e.target.value)},focus:function(e){return e.target.select()}}})]}}]),model:{value:e.harga_pembuka,callback:function(t){e.harga_pembuka=t},expression:"harga_pembuka"}})],1),a("div",{staticClass:"col"},[a("q-field",{attrs:{filled:"",dense:"",label:"Kelipatan"},scopedSlots:e._u([{key:"control",fn:function(t){var i=t.id,o=t.floatingLabel,r=t.value,s=t.emitValue;return[a("input",{directives:[{name:"money",rawName:"v-money",value:e.moneyFormatForComponent,expression:"moneyFormatForComponent"},{name:"show",rawName:"v-show",value:o,expression:"floatingLabel"}],ref:"kelipatan",staticClass:"q-field__input text-right",attrs:{id:i},domProps:{value:r},on:{change:function(e){return s(e.target.value)},focus:function(e){return e.target.select()}}})]}}]),model:{value:e.kelipatan,callback:function(t){e.kelipatan=t},expression:"kelipatan"}})],1)]),a("div",{staticClass:"q-my-xs"},[a("div",{staticClass:"text-grey text-center q-mb-xs"},[e._v("Lokasi *")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mr-xs"},[a("q-select",{attrs:{dense:"","options-dense":"",filled:"",label:"Provinsi",options:e.provinsiOpt,behavior:"dialog","option-value":"id","option-label":"nama"},on:{change:e.getKota},model:{value:e.form.provinsi,callback:function(t){e.$set(e.form,"provinsi",t)},expression:"form.provinsi"}})],1),a("div",{staticClass:"col"},[a("q-select",{attrs:{dense:"","options-dense":"",filled:"",label:"Kota/ Kabupaten",options:e.kotaOpt,behavior:"dialog","option-value":"id","option-label":"nama"},model:{value:e.form.kota,callback:function(t){e.$set(e.form,"kota",t)},expression:"form.kota"}})],1)])]),a("div",{staticClass:"q-my-xs"},[a("div",{staticClass:"text-grey text-center q-mb-xs"},[e._v("Deskripsi")]),a("q-input",{attrs:{filled:"",autogrow:""},model:{value:e.form.deskripsi,callback:function(t){e.$set(e.form,"deskripsi",t)},expression:"form.deskripsi"}})],1)],1),a("q-footer",{staticClass:"bg-white",attrs:{bordered:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-pa-md"},[a("q-btn",{staticClass:"full-width",attrs:{"no-caps":"",icon:"eva-arrow-ios-back",color:"white","text-color":"black",label:"Kembali"},on:{click:e.backTo}})],1),a("div",{staticClass:"col q-pa-md"},[a("q-btn",{staticClass:"full-width",attrs:{"no-caps":"","icon-right":"eva-arrow-ios-forward",color:"primary","text-color":"white",label:"Lanjut"},on:{click:e.lanjut}})],1)])])],1),a("q-dialog",{ref:"dialogAlert",attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"eva-save",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Simpan Draft ini? untuk di edit di lain waktu?.")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{"no-caps":"",flat:"",label:"Tidak",color:"primary"},on:{click:e.hapusDraft}}),a("q-btn",{attrs:{"no-caps":"",flat:"",label:"Simpan",color:"primary"},on:{click:e.simpanDraft}})],1)],1)],1)],1)},o=[],r=a("ded3"),s=a.n(r),n=(a("5319"),a("758b")),l=a("bc3a"),u=a.n(l),c=a("2f62"),p=a("d413"),d=a("bd4c"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-input",{attrs:{dense:"",filled:"",label:e.label,"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Harap diisi"}],"input-class":"text-right"},on:{blur:function(t){e.isInputActive=!1},focus:function(t){e.isInputActive=!0}},model:{value:e.displayValue,callback:function(t){e.displayValue=t},expression:"displayValue"}})],1)},f=[],h={props:{value:{default:0},label:{type:String,default:"Nominal Rp"}},data:function(){return{isInputActive:!1}},computed:{displayValue:{get:function(){return this.isInputActive?this.value.toString():"Rp "+Number(this.value).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")},set:function(e){let t=parseFloat(e.replace(/[^\d\.]/g,""));isNaN(t)&&(t=0),this.$emit("input",t)}}}},g=h,v=a("2877"),k=a("27f9"),b=a("eebe"),y=a.n(b),x=Object(v["a"])(g,m,f,!1,null,"703595f1",null),q=x.exports;y()(x,"components",{QInput:k["a"]});var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-field",{attrs:{filled:"",dense:"",label:e.label},scopedSlots:e._u([{key:"control",fn:function(t){var i=t.id,o=t.floatingLabel,r=t.value,s=t.emitValue;return[a("input",{directives:[{name:"money",rawName:"v-money",value:e.moneyFormatForComponent,expression:"moneyFormatForComponent"},{name:"show",rawName:"v-show",value:o,expression:"floatingLabel"}],ref:"nominal",staticClass:"q-field__input text-right",attrs:{id:i},domProps:{value:r},on:{change:function(e){return s(e.target.value)},focus:function(e){return e.target.select()}}})]}}]),model:{value:e.displayValue,callback:function(t){e.displayValue=t},expression:"displayValue"}})],1)},C=[],$=a("716b"),_={props:{value:{type:Number,default:0},label:{type:String,default:"Nominal Rp"}},components:{Money:$["Money"]},data(){return{moneyFormatForComponent:{decimal:".",thousands:",",prefix:"Rp ",suffix:" ",precision:0,masked:!0}}},computed:{displayValue:{get(){this.value},set(e){this.$emit("input",e)}}}},D=_,F=a("8572"),j=Object(v["a"])(D,w,C,!1,null,"4c6103a9",null),Q=j.exports;y()(j,"components",{QField:F["a"]});var S=a("f7f1"),H={name:"AddLelang",directives:{currency:p["a"]},components:{CurrencyInput:q,UangInput:Q,Money:$["Money"]},data(){return{id_lelang:null,form:{judul:null,kategori:null,berakhir:null,harga_pembuka:0,kelipatan:0,deskripsi:"Size :  \nSex : \nHarga Belum Termasuk Ongkir dan Packing\n",provinsi:null,kota:null},options:[],provinsiOpt:[],kotaOpt:[],confirm:!1,harga_pembuka:0,kelipatan:0,moneyFormatForComponent:{decimal:".",thousands:",",prefix:"",suffix:" ",precision:0,masked:!0}}},created(){this.getKategori(),this.getHariIni(),this.getProvinsi(),this.form.provinsi=this.user.provinsi,this.form.kota=this.user.kota},mounted(){this.getLelangBy(this.$route.params.slug)},computed:s()({},Object(c["d"])("users",["user"])),methods:{getLelangBy(e){n["c"]().get(`/lelang/by/${e}`).then((e=>{console.log(e.data),this.form.judul=e.data.judul,this.form.kategori=e.data.kategori,null==e.data.berakhir?this.getHariIni():this.form.berakhir=d["b"].formatDate(e.data.berakhir,"YYYY-MM-DD HH:mm"),this.form.harga_pembuka=e.data.harga_pembuka,this.form.kelipatan=e.data.kelipatan}))},getHariIni(){let e=Object(S["a"])(new Date,4);this.form.berakhir=d["b"].formatDate(e,"YYYY-MM-DD HH:mm")},getKategori(){n["c"]().get("/kategori").then((e=>{let t=[];e.data.data.map((function(a,i){t.push(e.data.data[i].name)})),this.options=t}))},onSubmit(){return this.form.harga_pembuka=parseFloat(this.harga_pembuka.replace(/[^\d\.]/g,"")),this.form.kelipatan=parseFloat(this.kelipatan.replace(/[^\d\.]/g,"")),null==this.form.provinsi||null==this.form.kota?(this.$q.notify({message:"lokasi anda belum terisi",icon:"eva-info"}),!1):(this.form.provinsi.nama?this.form.provinsi=this.form.provinsi.nama:this.form.provinsi=this.form.provinsi,this.form.kota.nama?this.form.kota=this.form.kota.nama:this.form.kota=this.form.kota,0===this.form.kelipatan?(this.$q.notify({message:"Kelipatan tidak boleh Rp 0",icon:"eva-info"}),!1):(this.$refs.judul.validate(),this.$refs.kategori.validate(),this.$refs.judul.hasError||this.$refs.kategori.hasError?(this.formHasError=!0,!1):(this.getLelangBy(this.$route.params.slug),n["c"]().put(`/lelang/update/${this.$route.params.slug}`,this.form).then((e=>{console.log(e)})),!0)))},simpanDraft(){0==this.onSubmit()?(this.$refs.dialogAlert.hide(),console.log("false")):(this.$refs.dialogAlert.hide(),this.$router.replace(this.$route.query.redirect||{path:"/profile/lelang"},(()=>{})))},hapusDraft(){this.$q.loading.show(),n["c"]().get(`/lelang/hapus_by/${this.$route.params.slug}`).then((e=>{this.$q.loading.hide(),"true"==e.data.success?this.$router.replace(this.$route.query.redirect||{path:"/profile/lelang"},(()=>{})):console.log("error")}))},lanjut(){0==this.onSubmit()?console.log("false"):this.$router.replace(this.$route.query.redirect||{name:"foto.lelang",params:{slug:this.$route.params.slug}},(()=>{}))},backTo(){this.confirm=!0},showDate(){this.$refs.qDateProxy.show()},closeDate(){this.$refs.qDateProxy.hide(),this.$refs.qTimeProxy.show()},getProvinsi(){u.a.get("https://dev.farizdotid.com/api/daerahindonesia/provinsi").then((e=>{this.provinsiOpt=e.data.provinsi}))},getKota(e){console.log("klik");let t=e.id?e.id:null;null!=t&&u.a.get("https://dev.farizdotid.com/api/daerahindonesia/kota?id_provinsi="+t).then((e=>{this.kotaOpt=e.data.kota_kabupaten}))},saveDraft(){n["c"]().post("/lelang/add")}},watch:{"form.provinsi"(e){null!=!e&&""!=!e||this.getKota(e)}}},P=H,Y=(a("052a"),a("9989")),N=a("ddd8"),I=a("66e5"),L=a("4074"),M=a("7cbe"),O=a("52ee"),K=a("9c40"),V=a("ca78"),A=a("d66b"),z=a("7ff0"),E=a("24e8"),T=a("f09f"),B=a("a370"),R=a("cb32"),J=a("4b7e"),U=a("7f67"),G=Object(v["a"])(P,i,o,!1,null,"fd8a091e",null);t["default"]=G.exports;y()(G,"components",{QPage:Y["a"],QInput:k["a"],QSelect:N["a"],QItem:I["a"],QItemSection:L["a"],QPopupProxy:M["a"],QDate:O["a"],QBtn:K["a"],QTime:V["a"],QField:F["a"],QEditor:A["a"],QFooter:z["a"],QDialog:E["a"],QCard:T["a"],QCardSection:B["a"],QAvatar:R["a"],QCardActions:J["a"]}),y()(G,"directives",{ClosePopup:U["a"]})}}]);