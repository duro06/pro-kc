(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"8e25":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"q-pa-lg"},[a("q-form",{staticClass:"q-gutter-sm",on:{submit:t.onSubmit,reset:t.onReset}},[a("q-input",{attrs:{filled:"",dense:"",label:"E-mail *","lazy-rules":"",readonly:"",rules:[function(t){return t&&t.length>0||"Please type something"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"eva-email-outline"}})]},proxy:!0}]),model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("q-input",{attrs:{filled:"",dense:"",label:"Name *","lazy-rules":"",readonly:"",rules:[function(t){return t&&t.length>0||"Please type something"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"eva-person-outline"}})]},proxy:!0}]),model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),a("q-input",{attrs:{filled:"",dense:"",label:"No Telephone","lazy-rules":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"eva-phone-outline"}})]},proxy:!0}]),model:{value:t.form.notelp,callback:function(e){t.$set(t.form,"notelp",e)},expression:"form.notelp"}}),a("q-input",{ref:"wa",attrs:{filled:"",label:"No Whatsapp","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"},function(t){return 62==t.substring(0,2)||"dua angka di isi dengan 62"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fab fa-whatsapp"}})]},proxy:!0}]),model:{value:t.form.nowhatsapp,callback:function(e){t.$set(t.form,"nowhatsapp",e)},expression:"form.nowhatsapp"}}),a("q-input",{attrs:{filled:"",placeholder:"Alamat",type:"textarea"},model:{value:t.form.alamat,callback:function(e){t.$set(t.form,"alamat",e)},expression:"form.alamat"}}),a("q-select",{attrs:{filled:"",dense:"","options-dense":"",label:"Provinsi",options:t.provinsiOpt,behavior:"dialog"},model:{value:t.form.provinsi,callback:function(e){t.$set(t.form,"provinsi",e)},expression:"form.provinsi"}}),a("q-select",{attrs:{filled:"",dense:"","options-dense":"",label:"Kota/ Kabupaten",options:t.kotaOpt,behavior:"dialog"},model:{value:t.form.kota,callback:function(e){t.$set(t.form,"kota",e)},expression:"form.kota"}}),a("q-separator",{staticClass:"q-mt-lg"}),a("div",{staticClass:"q-my-lg"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-btn",{attrs:{"no-caps":"",label:"Simpan Perubahan",type:"submit",color:"primary"}})],1),a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",label:"Reset",type:"reset",color:"primary",flat:""}})],1)])])],1)],1)])},i=[],o=a("ded3"),n=a.n(o),l=a("bc3a"),r=a.n(l),p=(a("758b"),a("2f62")),u={name:"EditProfile",created(){this.getProvinsi(),this.getKota()},mounted(){this.isiDulu()},data(){return{form:{provinsi:null,email:null,name:null,notelp:null,nowhatsapp:null,alamat:null,kota:null,id:null},provinsiOpt:[],kotaOpt:[]}},computed:n()({},Object(p["d"])("users",["user"])),methods:{isiDulu(){this.user.email&&(this.form.email=this.user.email),this.user.name&&(this.form.name=this.user.name),this.user.provinsi&&(this.form.provinsi=this.user.provinsi),this.user.kota&&(this.form.kota=this.user.kota),this.user.notelp&&(this.form.notelp=this.user.notelp),this.user.nowhatsapp&&(this.form.nowhatsapp=this.user.nowhatsapp),this.user.alamat&&(this.form.alamat=this.user.alamat),this.user.id&&(this.form.id=this.user.id)},getProvinsi(){r.a.get("https://dev.farizdotid.com/api/daerahindonesia/provinsi").then((t=>{let e=[];t.data.provinsi.map((function(a,s){e.push({label:t.data.provinsi[s].nama,value:t.data.provinsi[s].id})})),this.provinsiOpt=e}))},getKota(t){null!=this.form.provinsi&&r.a.get("https://dev.farizdotid.com/api/daerahindonesia/kota?id_provinsi="+t).then((t=>{let e=[];t.data.kota_kabupaten.map((function(a,s){e.push({label:t.data.kota_kabupaten[s].nama,value:t.data.kota_kabupaten[s].id})})),this.kotaOpt=e}))},onSubmit(){this.$q.loading.show(),this.$store.dispatch("users/updateProfile",this.form).then((t=>{this.$q.loading.hide(),this.$q.notify({message:"profile berhasil di update",icon:"eva-alert-circle"})})).catch((t=>{this.$q.loading.hide(),this.$q.notify({message:"profile gagal di update",icon:"eva-alert-triangle"})}))},onReset(){this.form.notelp=null,this.form.nowhatsapp=null,this.form.alamat=null,this.form.kota=null}},watch:{"form.provinsi"(){this.getKota(this.form.provinsi.value)}}},m=u,d=a("2877"),f=a("9989"),h=a("0378"),c=a("27f9"),v=a("0016"),b=a("ddd8"),g=a("eb85"),k=a("9c40"),q=a("eebe"),y=a.n(q),w=Object(d["a"])(m,s,i,!1,null,"fadfef64",null);e["default"]=w.exports;y()(w,"components",{QPage:f["a"],QForm:h["a"],QInput:c["a"],QIcon:v["a"],QSelect:b["a"],QSeparator:g["a"],QBtn:k["a"]})}}]);