(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{e741:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("q-card",{attrs:{flat:"",square:""}},[e("q-card-section",{staticClass:"bg-primary text-white"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"row q-mr-lg"},[a.isLogin?e("q-btn",{attrs:{round:"",size:"20px",color:"grey"},on:{click:function(t){a.dialog=!0}}},[null!=a.user.avatar&&void 0!=a.user.avatar?e("q-avatar",{attrs:{size:"78px"}},[e("q-img",{staticStyle:{height:"78px","max-width":"78px"},attrs:{src:a.getAvatar(a.user.avatar)}})],1):e("q-avatar",{attrs:{size:"78px"}},[a._v(a._s(a.initial))])],1):e("q-btn",{attrs:{size:"20px",round:"",color:"grey",label:""}},[e("q-avatar",{attrs:{size:"78px"}})],1)],1),a.isLogin?e("div",{staticClass:"row"},[e("div",{staticClass:"column"},[e("div",{staticClass:"text-h6",staticStyle:{"margin-bottom":"-5px"}},[a._v("\n              "+a._s(a.user.name)+"\n            ")]),e("div",{staticClass:"text-h7"},[a._v(a._s(a.user.email))]),e("div",{staticClass:"text-h7"},[a._v(a._s(a.user.kota))])])]):a._e()])])],1),e("q-dialog",{attrs:{persistent:""},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center"},[e("q-file",{attrs:{color:"primary",label:"pilih gambar",filter:a.fileType},on:{rejected:a.onReject},scopedSlots:a._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:a.gambar,callback:function(t){a.gambar=t},expression:"gambar"}})],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Upload",color:"primary"},on:{click:a.upload}})],1)],1)],1)],1)},i=[],r=e("ded3"),o=e.n(r),l=e("2f62"),n=e("758b"),c=e("c2f6"),p={props:{isLogin:{type:Boolean,default:!1},adaFoto:{type:Boolean,default:!1}},data(){return{dialog:!1,gambar:null}},computed:o()(o()(o()({},Object(l["c"])("users",["storage"])),Object(l["d"])("users",["user"])),{},{initial(){return this.user.name?this.user.name.substring(0,1):"G"},urlPath(){return n["e"]()}}),methods:{getAvatar(a){var t=a.split("/"),e=t[0];return"images"===e?this.urlPath+a:a},upload(){c["b"]({file:this.gambar,maxSize:500}).then((a=>{console.log(a);const t=new FormData;t.append("image",a),t.append("_method","put");const e={data:{id:this.user.id,data:t}};this.$q.loading.show(),this.$store.dispatch("users/uploadImage",e.data).then((a=>{this.$q.loading.hide(),console.log(a)})).catch((a=>{this.$q.loading.hide(),console.log(a)}))})).catch((a=>{console.log(a)}))},fileType(a){return a.filter((a=>"image/png"===a.type||"image/jpg"===a.type||"image/jpeg"===a.type))},onReject(a){this.$q.notify({type:"negative",message:"Hanya menerima file gambar. (.jpg, .jpeg, .png,)",position:"center"})}}},d=p,u=e("2877"),g=e("f09f"),m=e("a370"),h=e("9c40"),v=e("cb32"),b=e("068f"),f=e("24e8"),q=e("7d53"),y=e("0016"),x=e("4b7e"),w=e("7f67"),C=e("eebe"),_=e.n(C),j=Object(u["a"])(d,s,i,!1,null,"54e3890e",null);t["default"]=j.exports;_()(j,"components",{QCard:g["a"],QCardSection:m["a"],QBtn:h["a"],QAvatar:v["a"],QImg:b["a"],QDialog:f["a"],QFile:q["a"],QIcon:y["a"],QCardActions:x["a"]}),_()(j,"directives",{ClosePopup:w["a"]})}}]);